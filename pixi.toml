[workspace]
authors = ["Michael Booth <michael@databooth.com.au>"]
channels = ["conda-forge", "https://conda.modular.com/max-nightly"]
name = "mojo-dotenv"
platforms = ["osx-arm64"]
version = "0.2.0"

[activation]
env = { MOJO_PATH = "$PIXI_PROJECT_ROOT/src" }

[tasks]
# Development tasks
mojo-version = "mojo --version"

# Individual tests (for quick iteration)
test-basic = "mojo -I src tests/test_basic.mojo"
test-compat = "mojo -I src tests/test_python_compat.mojo"
test-load = "mojo -I src tests/test_load_dotenv.mojo"

# Run all tests
test-all = """bash -c '
set -e
echo "=== Running All Tests ==="
for test_file in tests/test_*.mojo; do
  echo ""
  echo "Running: $test_file"
  mojo -I src "$test_file"
done
echo ""
echo "=== All Tests Passed! ==="
'"""

# Build tasks
build = "mkdir -p dist && mojo package src/dotenv -o dist/dotenv.mojopkg"
clean = "rm -rf dist __pycache__ .pytest_cache"

# Example tasks
example-simple = "mojo -I src examples/simple.mojo"

# Validation tasks
check-mojoenv = "cd ../mojoenv && mojo main.mojo"

[dependencies]
mojo = ">=0.26.1.0.dev2026010405,<0.27"
python-dotenv = ">=1.2.1,<2"
